# 代码随想录算法训练营74期|数组Part01 二分查找、双指针


| 题目     | Leetcode地址 |
| ----------- | ----------- |
| 704.二分查找      | [力扣题目链接](https://leetcode.cn/problems/binary-search/)      |
| 35.插入搜索   | [力扣题目链接](https://leetcode.cn/problems/search-insert-position/)        |
|34. 在排序数组中查找元素的第一个和最后一个位置|[力扣题目链接](https://leetcode.cn/problems/find-first-and-last-position-of-element-in-sorted-array/)
|69. x 的平方根|[力扣题目链接](https://leetcode.cn/problems/sqrtx/)
|367. 有效的完全平方数|[力扣题目链接](https://leetcode.cn/problems/valid-perfect-square/)|
| 27.移除元素      | [力扣题目链接](https://leetcode.cn/problems/remove-element/description/)      |
| 26.删除排序数组中的重复项   | [力扣题目链接](https://leetcode.cn/problems/remove-duplicates-from-sorted-array/)        |
|283. 移动零|[力扣题目链接](https://leetcode.cn/problems/move-zeroes/)
|844. 比较含退格的字符串|[力扣题目链接](https://leetcode.cn/problems/backspace-string-compare/)
|977. 有序数组的平方|[力扣题目链接](https://leetcode.cn/problems/squares-of-a-sorted-array/)|


# 二分查找总结
首先要确定的是循环不变量：
1. 左闭右闭：
   1. 初始化：left = 0, right = len(nums) - 1
   2. 终止条件：left > right（这个时候的right值是有意义的，能取到的，也就是说只有在left > right的时候，才会结束）
   3. 区间更新：
      1. 区间中没有目标值：left = mid + 1, right = mid - 1
      2. 区间中有目标值：返回
2. 左闭右开：
   1. 初始化：left = 0, right = len(nums)
   2. 终止条件：left = right（这个时候的right值是没有意义的，不能取到的，也就是说只有在left = right的时候，才会结束）
   3. 区间更新：
      1. 区间中没有目标值：left = mid + 1, right = mid（因为此时的mid已经没有意义，所以right=mid，right是开区间
      2. 区间中有目标值：返回

其次确定的是判断条件：
  1. 对于普通的二分查找来说，判断条件就是nums[mid] == target，也就是不满这个条件的时候，就更新区间
  2. 但是对于二分查找的变形来说，判断条件就会改变：
  拿第34题来说，找的应该是**最后一个小于或者第一个等于目标的数和最后一个等于目标的数或者第一个大于，即分别寻找左区间和右区间**
  所以，对于寻找左区间来说，当nums[mid] >= target的时候，就应该更新右区间，同时记录这个位置。对于寻找右区间来说，当nums[mid] <= target的时候，就应该更新左区间，同时记录这个位置。
  3. 同理，对于第69题来说，找的是目标值的平方根，但是允许取整，那么此时的判断条件就是nums[mid] * nums[mid] > target，right向左移动，否则记录位置并且向右移动 
  4. 那么，对于第367题来说，找的是完全平方数，那么此时的判断条件就是nums[mid] * nums[mid] == target，否则，根据情况去移动
   
# 移除元素（双指针）总结
对于一些数组和链表的题目，很多要求我们使用o(n)的时间复杂度和o(1)的空间复杂度来解决问题，那么我们就需要使用双指针来解决问题。<br>
双指针法（快慢指针法）在数组和链表的操作中是非常常见的，很多考察数组、链表、字符串等操作的面试题，都使用双指针法。<br>
例如：
- 在移除元素这一题中，我们使用双指针法来解决，一般，快指针先去遍历数组，找到符合条件的元素，而慢指针则是记录新的数组的最后位置，将符合条件的元素赋值给慢指针，然后慢指针再向后移动。
- 同理，在删除排序数组中的重复项这一题汇总，基本思想与上一题相同，只是判断条件不同。并且，移动指针和赋值的顺序也不同，由于要保留一个重复项，所以应该先移动慢指针，然后再赋值。
- 移动零的思想就与前两道题类似，不做过多的赘述
- 比较含退格的字符串的思想也与是利用双指针，但是需要注意的是，退格的操作是从后往前的，并且由于存在**多个退格连在一起的操作，所以需要使用一个计数器来记录退格的次数**，然后再进行赋值操作。关键想法是：**想到能逆序操作**
- 有序数组的平方的思想也是利用双指针，最开始的想法是前后比较后交换，后来发现是排序算法的操作，无法在O（n）的时间复杂度完成。所以选择了双指针法。由于题目要求是平方，有点类似于归并排序的思想，其使用的方法不再是快慢指针，而是双向指针，易错点是判断条件可以等于，否则奇数个的会少一个元素。后面又想到找中间值，向两边扩散，后来发现可以从两头开始，然后向中间靠拢，这样就可以避免判断条件的问题。

**总结**: 
- 二分法是非常重要的基础算法,重点在于找到循环不变量：
而区间的定义就是不变量，那么在循环中坚持根据查找区间的定义来做边界处理，就是循环不变量规则。
- 其次是找到判断条件，这个条件就是根据循环不变量定义的区间，然后根据题目的不同，去修改判断条件，然后根据判断条件去更新区间。
- 其实，双指针方法非常常见，重点是能够合理的分清楚每个指针应该做的工作和后续的操作，这点应该就是前面所提到的循环不变量。



